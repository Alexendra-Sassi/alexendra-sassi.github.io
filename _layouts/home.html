---
layout: default
refactor: true
---

{% include lang.html %}

<!-- SECTION DE PRÉSENTATION -->
<div class="container mt-5">
  <div class="text-center">
    <h1 class="display-4 text-primary">Bienvenue sur le site Nutrition</h1>
    <p class="lead text-muted">
      Explorez des articles sur la nutrition, la santé, les superaliments, les recettes et bien plus encore.
    </p>
  </div>
</div>

<!-- ARTICLES EN CARTES -->
<div class="container mt-5">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">

    {% assign all_pinned = site.posts | where: 'pin', 'true' %}
    {% assign all_normal = site.posts | where_exp: 'item', 'item.pin != true and item.hidden != true' %}
    {% assign posts = all_pinned | concat: all_normal %}

    {% for post in posts limit: site.paginate %}
      <div class="col">
        <div class="card h-100 shadow-sm">
          {% if post.image %}
            <img src="{{ post.image.path }}" class="card-img-top" alt="{{ post.image.alt | default: 'Image article' }}">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-primary">{{ post.title }}</h5>
            <p class="card-text text-muted">{{ post.description | truncate: 120 }}</p>
            <a href="{{ post.url | relative_url }}" class="btn btn-outline-primary mt-auto">Lire l'article</a>
          </div>
        </div>
      </div>
    {% endfor %}

  </div>
</div>

<!-- PAGINATION -->
<div class="container mt-5">
  {% if paginator.total_pages > 1 %}
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        {% if paginator.previous_page %}
          <li class="page-item">
            <a class="page-link" href="{{ paginator.previous_page_path | relative_url }}" aria-label="Précédent">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
        {% endif %}

        {% for page in (1..paginator.total_pages) %}
          <li class="page-item {% if page == paginator.page %}active{% endif %}">
            <a class="page-link" href="{{ paginator.page_path | relative_url | replace: ':num', page }}">{{ page }}</a>
          </li>
        {% endfor %}

        {% if paginator.next_page %}
          <li class="page-item">
            <a class="page-link" href="{{ paginator.next_page_path | relative_url }}" aria-label="Suivant">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        {% endif %}
      </ul>
    </nav>
  {% endif %}
</div>
